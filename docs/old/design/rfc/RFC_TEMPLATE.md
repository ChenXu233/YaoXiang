# RFC [编号]: [提案标题]

> **状态**: [草案 | 审核中 | 已接受 | 已拒绝]
> **作者**: [作者名]
> **创建日期**: [YYYY-MM-DD]
> **最后更新**: [YYYY-MM-DD]

> **参考**: 查看 [完整示例](EXAMPLE_full_feature_proposal.md) 了解如何编写 RFC。

## 摘要

用 1-2 句话概括这个 RFC 要解决的问题和提出的解决方案。

## 动机

### 为什么需要这个特性/变更？

解释为什么这个 RFC 是必要的，解决什么问题或满足什么需求。

### 当前的问题

描述当前状态存在的问题，使用具体的例子（如果有）。

## 提案

### 核心设计

描述提议的解决方案，包括核心概念和数据结构。

### 示例

提供代码示例来说明提案的使用方式：

```yaoxiang
# 示例代码
```

### 语法变化

如果提案涉及语法变更，列出变化前后的对比：

| 之前 | 之后 |
|------|------|
| 语法 A | 语法 B |

## 详细设计

### 类型系统影响

描述对类型系统的影响，是否引入新类型、类型约束等。

### 运行时行为

描述运行时行为的变化（如果有）。

### 编译器改动

列出需要修改的编译器组件。

### 向后兼容性

评估是否向后兼容，以及如何处理现有代码。

## 权衡

### 优点

- 列出采用此提案的优点

### 缺点

- 列出采用此提案的缺点或风险

## 替代方案

列出考虑过的替代方案，以及为什么没有选择它们。

## 实现策略

### 阶段划分

描述如何分阶段实现这个特性。

### 依赖关系

列出此 RFC 依赖的其他 RFC 或功能。

### 风险

识别实现中的潜在风险。

## 开放问题

列出需要进一步讨论的问题。

格式：
```markdown
- [ ] 问题描述（@用户名：补充说明）
```

---

## 附录（可选）

### 附录A：设计讨论记录

> 用于记录设计决策过程中的详细讨论。

#### 讨论模板

```markdown
### [讨论主题]

> **讨论状态**: [开放中 | 已解决]
> **发起者**: @用户名
> **日期**: YYYY-MM-DD

#### 问题描述

[描述需要讨论的问题]

#### 备选方案

| 方案 | 描述 | 优点 | 缺点 |
|------|------|------|------|
| A | ... | ... | ... |
| B | ... | ... | ... |

#### 讨论记录

- [日期] @用户名：[意见]
- [日期] @用户名：[意见]

#### 决议

[最终决定及理由]
```

#### 讨论管理规则

| 阶段 | 操作 |
|------|------|
| 讨论中 | 记录在附录，保持开放状态 |
| 已解决 | 更新决议，标记状态，**更新正文相关内容** |
| 放弃 | 标记放弃原因，保留记录供参考 |

> **重要**: 讨论确定后，必须更新正文相关内容！讨论记录可保留作为历史参考。

---

### 附录B：设计决策记录

> 记录RFC中已确定的设计决策及其理由。

| 决策 | 决定 | 日期 | 记录人 |
|------|------|------|--------|
| ... | ... | ... | ... |

---

### 附录C：术语表

| 术语 | 定义 |
|------|------|
| ... | ... |

---

## 参考文献

- 相关文档或外部资源链接
- 类似的实现或其他语言的参考

---

## 生命周期与归宿

RFC 有以下状态流转：

```
┌─────────────┐
│   草案      │  ← 作者创建
└──────┬──────┘
       │
       ▼
┌─────────────┐
│  审核中     │  ← 社区讨论
└──────┬──────┘
       │
       ├──────────────────┐
       ▼                  ▼
┌─────────────┐    ┌─────────────┐
│  已接受     │    │  已拒绝     │
└──────┬──────┘    └──────┬──────┘
       │                  │
       ▼                  ▼
┌─────────────┐    ┌─────────────┐
│   accepted/ │    │    rfc/     │
│ (正式设计)  │    │ (保留原位)  │
└─────────────┘    └─────────────┘
```

### 状态说明

| 状态 | 位置 | 说明 |
|------|------|------|
| **草案** | `docs/design/rfc/` | 作者草稿，等待提交审核 |
| **审核中** | `docs/design/rfc/` | 开放社区讨论和反馈 |
| **已接受** | `docs/design/accepted/` | 成为正式设计文档，进入实现阶段 |
| **已拒绝** | `docs/design/rfc/` | 保留在 RFC 目录，更新状态 |

### 接受后的操作

1. 将 RFC 移至 `docs/design/accepted/` 目录
2. 更新文件名为描述性名称（如 `enhanced-pattern-matching.md`）
3. 更新状态为 "正式"
4. 更新状态为 "已接受"，添加接受日期

### 拒绝后的操作

1. 保留在 `docs/design/rfc/` 目录
2. 在文件顶部添加拒绝原因和日期
3. 更新状态为 "已拒绝"

### 讨论确定后的操作

当某个开放问题达成共识后：

1. **更新附录A**: 在讨论主题下填写「决议」
2. **更新正文**: 将决定同步到文档正文
3. **记录决策**: 添加到「附录B：设计决策记录」
4. **标记问题**: 在「开放问题」列表中勾选 `[x]`

---

> **注**: RFC 编号仅在讨论阶段使用。接受后移除编号，使用描述性文件名。
